<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.475">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="A. Boss">
<meta name="dcterms.date" content="2023-06-15">

<title>Swiss Health Registry - Yearly report 2023</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
</style>


<script src="01_registry_hospital_report_files/libs/clipboard/clipboard.min.js"></script>
<script src="01_registry_hospital_report_files/libs/quarto-html/quarto.js"></script>
<script src="01_registry_hospital_report_files/libs/quarto-html/popper.min.js"></script>
<script src="01_registry_hospital_report_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="01_registry_hospital_report_files/libs/quarto-html/anchor.min.js"></script>
<link href="01_registry_hospital_report_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="01_registry_hospital_report_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="01_registry_hospital_report_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="01_registry_hospital_report_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="01_registry_hospital_report_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Swiss Health Registry - Yearly report 2023</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>A. Boss </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">June 15, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<section id="background" class="level2">
<h2 class="anchored" data-anchor-id="background">Background</h2>
<p>My work involves creating reproducible reports using our medical registry data. Typically, we create two types of reports: ‘registry reports,’ which utilize descriptive statistics from the entire registry, and ‘clinic reports,’ which compare data from one clinic to the aggregated data of all other clinics. Until now, we have been utilizing the statistical software package ‘STATA.’ While STATA allows for reproducible reporting, the project setup process is laborious, and it lacks flexibility in choosing the output format.</p>
<p>RStudio, an open-source statistical package widely used in biomedical research, offers an alternative. Its package called ‘QUARTO’ promises to provide a simpler way of creating reproducible reports with multiple options for output formats.</p>
<section id="aim" class="level3">
<h3 class="anchored" data-anchor-id="aim">Aim</h3>
<p>Aim of this project is to assess the potential of Rstudio’s ‘QUARTO’-package for reproducible reporting of registry data.</p>
</section>
<section id="methods" class="level3">
<h3 class="anchored" data-anchor-id="methods">Methods</h3>
<p>Dummy data was obtained using the ‘Framingam’ data set (‘riskCommunicator’-package). Dummy department_IDs were created. Please refer to the QUARTO-file for the code.</p>
</section>
</section>
<section id="table-1.1-overview-registry-report" class="level2">
<h2 class="anchored" data-anchor-id="table-1.1-overview-registry-report">Table 1.1 Overview: Registry report</h2>
<p>Using the ‘tidyverse’-package ‘gtsummary’, an overview-table can be created easily:</p>
<div class="cell">
<div class="cell-output-display">

<div id="uwpryrcgzi" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

:where(#uwpryrcgzi) .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

:where(#uwpryrcgzi) .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#uwpryrcgzi) .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

:where(#uwpryrcgzi) .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

:where(#uwpryrcgzi) .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

:where(#uwpryrcgzi) .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#uwpryrcgzi) .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#uwpryrcgzi) .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

:where(#uwpryrcgzi) .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

:where(#uwpryrcgzi) .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

:where(#uwpryrcgzi) .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

:where(#uwpryrcgzi) .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

:where(#uwpryrcgzi) .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

:where(#uwpryrcgzi) .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

:where(#uwpryrcgzi) .gt_from_md > :first-child {
  margin-top: 0;
}

:where(#uwpryrcgzi) .gt_from_md > :last-child {
  margin-bottom: 0;
}

:where(#uwpryrcgzi) .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

:where(#uwpryrcgzi) .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#uwpryrcgzi) .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

:where(#uwpryrcgzi) .gt_row_group_first td {
  border-top-width: 2px;
}

:where(#uwpryrcgzi) .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#uwpryrcgzi) .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

:where(#uwpryrcgzi) .gt_first_summary_row.thick {
  border-top-width: 2px;
}

:where(#uwpryrcgzi) .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#uwpryrcgzi) .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#uwpryrcgzi) .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

:where(#uwpryrcgzi) .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

:where(#uwpryrcgzi) .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#uwpryrcgzi) .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#uwpryrcgzi) .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#uwpryrcgzi) .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#uwpryrcgzi) .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#uwpryrcgzi) .gt_left {
  text-align: left;
}

:where(#uwpryrcgzi) .gt_center {
  text-align: center;
}

:where(#uwpryrcgzi) .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

:where(#uwpryrcgzi) .gt_font_normal {
  font-weight: normal;
}

:where(#uwpryrcgzi) .gt_font_bold {
  font-weight: bold;
}

:where(#uwpryrcgzi) .gt_font_italic {
  font-style: italic;
}

:where(#uwpryrcgzi) .gt_super {
  font-size: 65%;
}

:where(#uwpryrcgzi) .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

:where(#uwpryrcgzi) .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

:where(#uwpryrcgzi) .gt_indent_1 {
  text-indent: 5px;
}

:where(#uwpryrcgzi) .gt_indent_2 {
  text-indent: 10px;
}

:where(#uwpryrcgzi) .gt_indent_3 {
  text-indent: 15px;
}

:where(#uwpryrcgzi) .gt_indent_4 {
  text-indent: 20px;
}

:where(#uwpryrcgzi) .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="<strong>Characteristic</strong>"><strong>Characteristic</strong></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>N = 4,434</strong><sup class=&quot;gt_footnote_marks&quot;>1</sup>"><strong>N = 4,434</strong><sup class="gt_footnote_marks">1</sup></th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="label" class="gt_row gt_left">sex</td>
<td headers="stat_0" class="gt_row gt_center"></td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;f</td>
<td headers="stat_0" class="gt_row gt_center">1,944 (44%)</td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;m</td>
<td headers="stat_0" class="gt_row gt_center">2,490 (56%)</td></tr>
    <tr><td headers="label" class="gt_row gt_left">Age [y]</td>
<td headers="stat_0" class="gt_row gt_center"></td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Mean (SD)</td>
<td headers="stat_0" class="gt_row gt_center">50 (9)</td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Median (IQR)</td>
<td headers="stat_0" class="gt_row gt_center">49 (42, 57)</td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Range</td>
<td headers="stat_0" class="gt_row gt_center">32, 70</td></tr>
    <tr><td headers="label" class="gt_row gt_left">BMI [kg/m^2]</td>
<td headers="stat_0" class="gt_row gt_center"></td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Mean (SD)</td>
<td headers="stat_0" class="gt_row gt_center">25.8 (4.1)</td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Median (IQR)</td>
<td headers="stat_0" class="gt_row gt_center">25.4 (23.1, 28.1)</td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Range</td>
<td headers="stat_0" class="gt_row gt_center">15.5, 56.8</td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Unknown</td>
<td headers="stat_0" class="gt_row gt_center">19</td></tr>
    <tr><td headers="label" class="gt_row gt_left">currently smoking</td>
<td headers="stat_0" class="gt_row gt_center">2,181 (49%)</td></tr>
    <tr><td headers="label" class="gt_row gt_left">Hypertension</td>
<td headers="stat_0" class="gt_row gt_center">1,430 (32%)</td></tr>
    <tr><td headers="label" class="gt_row gt_left">Diabetes</td>
<td headers="stat_0" class="gt_row gt_center">121 (2.7%)</td></tr>
  </tbody>
  
  <tfoot class="gt_footnotes">
    <tr>
      <td class="gt_footnote" colspan="2"><sup class="gt_footnote_marks">1</sup> n (%)</td>
    </tr>
  </tfoot>
</table>
</div>
</div>
</div>
<blockquote class="blockquote">
<blockquote class="blockquote">
<p><em><strong>Note</strong>: I am impressed! - using Stata it would cost me hundreds of lines creating such a table. Interestingly, the source code of “tbl_summary” is not that long: https://rdrr.io/cran/gtsummary/src/R/tbl_summary.R.</em></p>
</blockquote>
</blockquote>
</section>
<section id="table-1.2-overview-clinic-report" class="level2">
<h2 class="anchored" data-anchor-id="table-1.2-overview-clinic-report">Table 1.2 Overview: Clinic report</h2>
<p>The table above can easily be adapted to create an overview for a Clinic report simply by adding “by clinic” to the code. Furthermore, the option “p-value” is added:</p>
<div class="cell">
<div class="cell-output-display">

<div id="jzwnylwqrk" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

:where(#jzwnylwqrk) .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

:where(#jzwnylwqrk) .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#jzwnylwqrk) .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

:where(#jzwnylwqrk) .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

:where(#jzwnylwqrk) .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

:where(#jzwnylwqrk) .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#jzwnylwqrk) .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#jzwnylwqrk) .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

:where(#jzwnylwqrk) .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

:where(#jzwnylwqrk) .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

:where(#jzwnylwqrk) .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

:where(#jzwnylwqrk) .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

:where(#jzwnylwqrk) .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

:where(#jzwnylwqrk) .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

:where(#jzwnylwqrk) .gt_from_md > :first-child {
  margin-top: 0;
}

:where(#jzwnylwqrk) .gt_from_md > :last-child {
  margin-bottom: 0;
}

:where(#jzwnylwqrk) .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

:where(#jzwnylwqrk) .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#jzwnylwqrk) .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

:where(#jzwnylwqrk) .gt_row_group_first td {
  border-top-width: 2px;
}

:where(#jzwnylwqrk) .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#jzwnylwqrk) .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

:where(#jzwnylwqrk) .gt_first_summary_row.thick {
  border-top-width: 2px;
}

:where(#jzwnylwqrk) .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#jzwnylwqrk) .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#jzwnylwqrk) .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

:where(#jzwnylwqrk) .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

:where(#jzwnylwqrk) .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#jzwnylwqrk) .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#jzwnylwqrk) .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#jzwnylwqrk) .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#jzwnylwqrk) .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#jzwnylwqrk) .gt_left {
  text-align: left;
}

:where(#jzwnylwqrk) .gt_center {
  text-align: center;
}

:where(#jzwnylwqrk) .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

:where(#jzwnylwqrk) .gt_font_normal {
  font-weight: normal;
}

:where(#jzwnylwqrk) .gt_font_bold {
  font-weight: bold;
}

:where(#jzwnylwqrk) .gt_font_italic {
  font-style: italic;
}

:where(#jzwnylwqrk) .gt_super {
  font-size: 65%;
}

:where(#jzwnylwqrk) .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

:where(#jzwnylwqrk) .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

:where(#jzwnylwqrk) .gt_indent_1 {
  text-indent: 5px;
}

:where(#jzwnylwqrk) .gt_indent_2 {
  text-indent: 10px;
}

:where(#jzwnylwqrk) .gt_indent_3 {
  text-indent: 15px;
}

:where(#jzwnylwqrk) .gt_indent_4 {
  text-indent: 20px;
}

:where(#jzwnylwqrk) .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="<strong>Characteristic</strong>"><strong>Characteristic</strong></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>my clinic</strong>, N = 186<sup class=&quot;gt_footnote_marks&quot;>1</sup>"><strong>my clinic</strong>, N = 186<sup class="gt_footnote_marks">1</sup></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>all other clinics</strong>, N = 4,248<sup class=&quot;gt_footnote_marks&quot;>1</sup>"><strong>all other clinics</strong>, N = 4,248<sup class="gt_footnote_marks">1</sup></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>p-value</strong><sup class=&quot;gt_footnote_marks&quot;>2</sup>"><strong>p-value</strong><sup class="gt_footnote_marks">2</sup></th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="label" class="gt_row gt_left">sex</td>
<td headers="stat_1" class="gt_row gt_center"></td>
<td headers="stat_2" class="gt_row gt_center"></td>
<td headers="p.value" class="gt_row gt_center">0.3</td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;f</td>
<td headers="stat_1" class="gt_row gt_center">75 (40%)</td>
<td headers="stat_2" class="gt_row gt_center">1,869 (44%)</td>
<td headers="p.value" class="gt_row gt_center"></td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;m</td>
<td headers="stat_1" class="gt_row gt_center">111 (60%)</td>
<td headers="stat_2" class="gt_row gt_center">2,379 (56%)</td>
<td headers="p.value" class="gt_row gt_center"></td></tr>
    <tr><td headers="label" class="gt_row gt_left">Age [y]</td>
<td headers="stat_1" class="gt_row gt_center"></td>
<td headers="stat_2" class="gt_row gt_center"></td>
<td headers="p.value" class="gt_row gt_center">0.056</td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Mean (SD)</td>
<td headers="stat_1" class="gt_row gt_center">51 (9)</td>
<td headers="stat_2" class="gt_row gt_center">50 (9)</td>
<td headers="p.value" class="gt_row gt_center"></td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Median (IQR)</td>
<td headers="stat_1" class="gt_row gt_center">51 (44, 58)</td>
<td headers="stat_2" class="gt_row gt_center">49 (42, 57)</td>
<td headers="p.value" class="gt_row gt_center"></td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Range</td>
<td headers="stat_1" class="gt_row gt_center">35, 67</td>
<td headers="stat_2" class="gt_row gt_center">32, 70</td>
<td headers="p.value" class="gt_row gt_center"></td></tr>
    <tr><td headers="label" class="gt_row gt_left">BMI [kg/m^2]</td>
<td headers="stat_1" class="gt_row gt_center"></td>
<td headers="stat_2" class="gt_row gt_center"></td>
<td headers="p.value" class="gt_row gt_center">0.6</td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Mean (SD)</td>
<td headers="stat_1" class="gt_row gt_center">25.7 (4.1)</td>
<td headers="stat_2" class="gt_row gt_center">25.9 (4.1)</td>
<td headers="p.value" class="gt_row gt_center"></td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Median (IQR)</td>
<td headers="stat_1" class="gt_row gt_center">25.1 (23.1, 28.2)</td>
<td headers="stat_2" class="gt_row gt_center">25.5 (23.1, 28.1)</td>
<td headers="p.value" class="gt_row gt_center"></td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Range</td>
<td headers="stat_1" class="gt_row gt_center">15.5, 39.5</td>
<td headers="stat_2" class="gt_row gt_center">16.0, 56.8</td>
<td headers="p.value" class="gt_row gt_center"></td></tr>
    <tr><td headers="label" class="gt_row gt_left">&nbsp;&nbsp;&nbsp;&nbsp;Unknown</td>
<td headers="stat_1" class="gt_row gt_center">0</td>
<td headers="stat_2" class="gt_row gt_center">19</td>
<td headers="p.value" class="gt_row gt_center"></td></tr>
    <tr><td headers="label" class="gt_row gt_left">currently smoking</td>
<td headers="stat_1" class="gt_row gt_center">85 (46%)</td>
<td headers="stat_2" class="gt_row gt_center">2,096 (49%)</td>
<td headers="p.value" class="gt_row gt_center">0.3</td></tr>
    <tr><td headers="label" class="gt_row gt_left">Hypertension</td>
<td headers="stat_1" class="gt_row gt_center">59 (32%)</td>
<td headers="stat_2" class="gt_row gt_center">1,371 (32%)</td>
<td headers="p.value" class="gt_row gt_center">0.9</td></tr>
    <tr><td headers="label" class="gt_row gt_left">Diabetes</td>
<td headers="stat_1" class="gt_row gt_center">11 (5.9%)</td>
<td headers="stat_2" class="gt_row gt_center">110 (2.6%)</td>
<td headers="p.value" class="gt_row gt_center">0.006</td></tr>
  </tbody>
  
  <tfoot class="gt_footnotes">
    <tr>
      <td class="gt_footnote" colspan="4"><sup class="gt_footnote_marks">1</sup> n (%)</td>
    </tr>
    <tr>
      <td class="gt_footnote" colspan="4"><sup class="gt_footnote_marks">2</sup> Pearson's Chi-squared test; Wilcoxon rank sum test</td>
    </tr>
  </tfoot>
</table>
</div>
</div>
</div>
<blockquote class="blockquote">
<blockquote class="blockquote">
<p><strong>Note 1</strong>: p-values only provide <strong>indications</strong> of potential differences between my clinic and all other clinics. No correction for repeated testing has been performed.</p>
</blockquote>
</blockquote>
<blockquote class="blockquote">
<blockquote class="blockquote">
<p>*<strong>Note2</strong>: p-values are calculated using the default-options. For an actual report I may consider using t-test e.g.&nbsp;if N&gt;100 vs.&nbsp;Wilcoxon-test for 10&lt;N&lt;100. Of course this needs to be programmed flexibly as I do not have a-priori knowledge of N.</p>
</blockquote>
</blockquote>
</section>
<section id="graph-2.1.-density-plot-of-age" class="level2">
<h2 class="anchored" data-anchor-id="graph-2.1.-density-plot-of-age">Graph 2.1. Density plot of age</h2>
<p>A density plot of the age-distribution in my clinic vs.&nbsp;all other clinics is shown below:</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="01_registry_hospital_report_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="data-exploration" class="level2">
<h2 class="anchored" data-anchor-id="data-exploration">3 Data exploration</h2>
<section id="methods-1" class="level3">
<h3 class="anchored" data-anchor-id="methods-1">3.1 Methods</h3>
<p>One could now do a t-test for age between the two groups “my clinic” vs.&nbsp;“all other clinics”. Since this is not very interesting, the following is done instead: Quartiles of BMI are created. Thereafter the hypothesis will be tested that systolic blood pressure (sysbp) is different in the highest vs.&nbsp;lowest quartile of BMI. This will be done for the entire registry (chaptr. 3.2) and for “my clinic” only (chaptr. 3.3).</p>
</section>
<section id="box-plot-of-systolic-bp" class="level3">
<h3 class="anchored" data-anchor-id="box-plot-of-systolic-bp">3.2.1 box-plot of systolic bp</h3>
<p>A box-plot of sysbp for quartiles 1 and 4 of BMI is shown below.</p>
<div class="cell">
<div class="cell-output cell-output-stderr">
<pre><code>
Attache Paket: 'rstatix'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Das folgende Objekt ist maskiert 'package:stats':

    filter</code></pre>
</div>
<div class="cell-output-display">
<p><img src="01_registry_hospital_report_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>The graph indeed indicates that there may be a significant (and potentially relevant) difference between the two groups. Let’s do a t-test.</p>
</section>
<section id="t-test-entire-registry-data" class="level3">
<h3 class="anchored" data-anchor-id="t-test-entire-registry-data">3.2.2 t-test (entire registry data)</h3>
<p>Since the number of observations is relatively high in both groups, a t-test can be performed (central limit theorem).</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 x 8
  .y.   group1 group2    n1    n2 statistic    df        p
* &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt;  &lt;int&gt; &lt;int&gt;     &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt;
1 sysbp 1      4       1104  1103     -18.5 2130. 1.17e-70</code></pre>
</div>
</div>
<p>Indeed, the p-value of 1.17e-70 indicates extremely strong evidence against the null hypothesis of equal means across groups. Therefore, the observed difference is highly significant.</p>
</section>
</section>
<section id="analysis-of-sysbp-within-my-clinic" class="level2">
<h2 class="anchored" data-anchor-id="analysis-of-sysbp-within-my-clinic">3.3 Analysis of sysbp within “my clinic”</h2>
<p>In the following, the same hypothesis will be tested for the reduced data set of “my clinic”. It is anticipated that due to the lower number of observations and therefore increased likeliness of non-normal data distribution, non-parametric tests will have to be applied.</p>
<section id="histogram-and-qqplot-within-my-clinic" class="level3">
<h3 class="anchored" data-anchor-id="histogram-and-qqplot-within-my-clinic">3.3.1 Histogram and qqplot within “my clinic”</h3>
<p>In the following, the histograms and qqplots for both groups, first and fourth quartile of BMI, are shown:</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="01_registry_hospital_report_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="01_registry_hospital_report_files/figure-html/unnamed-chunk-8-2.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>The graphs indicate that the data is not uniformly distributed, particularly for the 4th BMI quartile, where the distribution of sysbp appears to be right-skewed. To test this hypothesis, a Shapiro test is performed.</p>
</section>
<section id="shapiro-test" class="level3">
<h3 class="anchored" data-anchor-id="shapiro-test">3.3.2 Shapiro-test</h3>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Shapiro-Wilk test result for db_clin_1"
# A tibble: 1 x 3
  variable           statistic p.value
  &lt;chr&gt;                  &lt;dbl&gt;   &lt;dbl&gt;
1 get(df_name)$sysbp     0.970   0.268
[1] "Shapiro-Wilk test result for db_clin_2"
# A tibble: 1 x 3
  variable           statistic p.value
  &lt;chr&gt;                  &lt;dbl&gt;   &lt;dbl&gt;
1 get(df_name)$sysbp     0.927 0.00646</code></pre>
</div>
</div>
<blockquote class="blockquote">
<blockquote class="blockquote">
<p><strong>Note</strong>: the Shapiro-test has been performed twice using a for-loop. In the output above “db_clin_1” refers to the first quartile of BMI, “db_clin_2” refers to the 4th quartile of BMI.</p>
</blockquote>
</blockquote>
<p>For the group with the highest BMI, we obtain a highly significant test-result. This means that the present distribution of data is very unlikely under the null hypothesis of normal distribution. Therefore, the non-parametric Wilcoxon-test is performed.</p>
</section>
<section id="wilcoxon-test" class="level3">
<h3 class="anchored" data-anchor-id="wilcoxon-test">3.3.3 Wilcoxon-Test</h3>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 x 7
  .y.   group1 group2    n1    n2 statistic         p
* &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt;  &lt;int&gt; &lt;int&gt;     &lt;dbl&gt;     &lt;dbl&gt;
1 sysbp 1      4         47    46       508 0.0000108</code></pre>
</div>
</div>
<p>Also in this reduced data-set of “my clinic”, using the non-parametric Wilcoxon-test, a highly significant p-value suggests a highly significant difference between the two groups.</p>
</section>
</section>
<section id="preliminary-conclusion-and-outlook" class="level2">
<h2 class="anchored" data-anchor-id="preliminary-conclusion-and-outlook">Preliminary conclusion and outlook</h2>
<p>Simple reproducible reports can easily be implemented using ‘QUARTO’. One of the next steps is the automated creation of clinic reports using loops (or the mapping functions of the ‘purrr’ package).</p>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>